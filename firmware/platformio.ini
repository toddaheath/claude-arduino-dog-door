; PlatformIO Project Configuration
; Smart Dog Door - ESP32-CAM Firmware

[env:esp32cam]
platform = espressif32
board = esp32cam
framework = arduino
monitor_speed = 115200
upload_speed = 921600

; Libraries
lib_deps =
    bblanchon/ArduinoJson@^7.0.0
    ; TensorFlow Lite Micro for ESP32
    tanakamasayuki/TensorFlowLite_ESP32@^1.0.0

; Build flags
build_flags =
    -DBOARD_HAS_PSRAM
    -mfix-esp32-psram-cache-issue
    -DCONFIG_CAMERA_MODEL_AI_THINKER
    -DCONFIG_BT_ENABLED

; Custom partition scheme: 3MB app + LittleFS + coredump
board_build.partitions = custom_partitions.csv

; Use LittleFS for file storage
board_build.filesystem = littlefs

; Test configuration
[env:native]
platform = native
test_framework = unity
